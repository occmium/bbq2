<%#= form_with(model: subscription, local: true) do |form| %>
<%#= form_for [@event, subscription] do |form| %>
  <%# if subscription.errors.any? %>
<!--    <div id="error_explanation">-->
<!--      <h2>-->
        <%#= pluralize(subscription.errors.count, "error") %>
<!--        prohibited this subscription from being saved:-->
<!--      </h2>-->

<!--      <ul>-->
        <%# subscription.errors.full_messages.each do |message| %>
<!--          <li><%#= message %></li>-->
        <%# end %>
<!--      </ul>-->
<!--    </div>-->
  <%# end %>

<!--  <div class="actions">-->
    <%#= form.submit %>
<!--  </div>-->
<%# end %>

<%= form_for [@event, subscription] do |f| %>
  <%= render partial: 'partials/form_errors', locals: {model: subscription} %>

  <% unless user_signed_in? %>
    <div class="form-group">
      <%= f.label :user_name %>
      <%= f.text_field :user_name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :user_email %>
      <%= f.text_field :user_email, class: 'form-control' %>
    </div>
  <% end %>

  <div class="actions">
    <%= f.submit 'Подписаться', class: 'btn btn-primary' %>
  </div>
<% end %>
